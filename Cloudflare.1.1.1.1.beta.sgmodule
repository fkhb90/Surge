#!name=☁️ Cloudflare：1️⃣ 1.1.1.1 with WARP β
#!desc=（測試版）WARP 檢測面板與節點提取
#!author=VirgilClyne & R·E（修正版：動態綁定 Surge Proxy 群組選中節點）
#!category=☁️ Cloudflare
#!arguments=title:☁ 𝙒𝘼𝙍𝙋 𝙄𝙣𝙛𝙤,icon:lock.icloud.fill,icon-color:#f48220
#!arguments-desc=title：[面板] 標題\nicon：[面板] 圖示\nicon-color：[面板] 圖示顏色

[Panel]
☁ WARP 面板 = title="{{{title}}}", icon="{{{icon}}}", "icon-color": "{{{icon-color}}}", script-name=☁ WARP 面板

[Script]
# 面板腳本（本地）
#!PROFILE-VERSION-REQUIRED 10
☁ WARP 面板 = type=generic, debug=true, timeout=10, script-path=1.1.1.1.panel.beta.js

# 如需 WARP 帳戶資訊擷取（可選），保留原本規則；若不需要，可刪除此區塊。
☁ WARP Personal Request  = type=http-request,  pattern=^https?:\/\/(?:api|zero-trust-client)\.cloudflareclient\.com\/[^\?\s]+\/reg\/[0-9a-fA-F-]{36}$, requires-body=true, debug=true, script-path=1.1.1.1.panel.beta.js
☁ WARP Personal Response = type=http-response, pattern=^https?:\/\/(?:api|zero-trust-client)\.cloudflareclient\.com\/[^\?\s]+\/reg\/[0-9a-fA-F-]{36}$, requires-body=true, engine=webview, debug=true, script-path=1.1.1.1.panel.beta.js

☁ WARP Teams Request  = type=http-request,  pattern=^https?:\/\/(?:api|zero-trust-client)\.cloudflareclient\.com\/[^\?\s]+\/reg\/t\.[0-9a-fA-F-]{36}$, requires-body=true, debug=true, script-path=1.1.1.1.panel.beta.js
☁ WARP Teams Response = type=http-response, pattern=^https?:\/\/(?:api|zero-trust-client)\.cloudflareclient\.com\/[^\?\s]+\/reg\/t\.[0-9a-fA-F-]{36}$, requires-body=true, engine=webview, debug=true, script-path=1.1.1.1.panel.beta.js

[Host]
# Cloudflare WARP endpoint (Dual-stack)
engage.cloudflareclient.com = 162.159.192.1, 162.159.192.2, 162.159.192.3, 162.159.192.4, 162.159.192.5, 162.159.192.6, 162.159.192.7, 162.159.192.8, 162.159.192.9, 162.159.192.10, 162.159.193.1, 162.159.193.2, 162.159.193.3, 162.159.193.4, 162.159.193.5, 162.159.193.6, 162.159.193.7, 162.159.193.8, 162.159.193.9, 162.159.193.10, 162.159.194.1, 162.159.194.2, 162.159.194.3, 162.159.194.4, 162.159.194.5, 162.159.194.6, 162.159.194.7, 162.159.194.8, 162.159.194.9, 162.159.194.10, 162.159.195.1, 162.159.195.2, 162.159.195.3, 162.159.195.4, 162.159.195.5, 162.159.195.6, 162.159.195.7, 162.159.195.8, 162.159.195.9, 162.159.195.10, 2606:4700:d0::a29f:c001, 2606:4700:d0::a29f:c002, 2606:4700:d0::a29f:c003, 2606:4700:d0::a29f:c004, 2606:4700:d0::a29f:c005, 2606:4700:d0::a29f:c006, 2606:4700:d0::a29f:c007, 2606:4700:d0::a29f:c008, 2606:4700:d0::a29f:c009, 2606:4700:d0::a29f:c010, 2606:4700:d1::a29f:c001, 2606:4700:d1::a29f:c002, 2606:4700:d1::a29f:c003, 2606:4700:d1::a29f:c004, 2606:4700:d1::a29f:c005, 2606:4700:d1::a29f:c006, 2606:4700:d1::a29f:c007, 2606:4700:d1::a29f:c008, 2606:4700:d1::a29f:c009, 2606:4700:d1::a29f:c010 [attached_file:1]

engage.nanocat.cloud = 162.159.192.1, 162.159.192.2, 162.159.192.3, 162.159.192.4, 162.159.192.5, 162.159.192.6, 162.159.192.7, 162.159.192.8, 162.159.192.9, 162.159.192.10, 162.159.193.1, 162.159.193.2, 162.159.193.3, 162.159.193.4, 162.159.193.5, 162.159.193.6, 162.159.193.7, 162.159.193.8, 162.159.193.9, 162.159.193.10, 162.159.194.1, 162.159.194.2, 162.159.194.3, 162.159.194.4, 162.159.194.5, 162.159.194.6, 162.159.194.7, 162.159.194.8, 162.159.194.9, 162.159.194.10, 162.159.195.1, 162.159.195.2, 162.159.195.3, 162.159.195.4, 162.159.195.5, 162.159.195.6, 162.159.195.7, 162.159.195.8, 162.159.195.9, 162.159.195.10, 2606:4700:d0::a29f:c001, 2606:4700:d0::a29f:c002, 2606:4700:d0::a29f:c003, 2606:4700:d0::a29f:c004, 2606:4700:d0::a29f:c005, 2606:4700:d0::a29f:c006, 2606:4700:d0::a29f:c007, 2606:4700:d0::a29f:c008, 2606:4700:d0::a29f:c009, 2606:4700:d0::a29f:c010, 2606:4700:d1::a29f:c001, 2606:4700:d1::a29f:c002, 2606:4700:d1::a29f:c003, 2606:4700:d1::a29f:c004, 2606:4700:d1::a29f:c005, 2606:4700:d1::a29f:c006, 2606:4700:d1::a29f:c007, 2606:4700:d1::a29f:c008, 2606:4700:d1::a29f:c009, 2606:4700:d1::a29f:c010 [attached_file:1]

[MITM]
hostname = %APPEND% api.cloudflareclient.com, zero-trust-client.cloudflareclient.com [attached_file:1]
